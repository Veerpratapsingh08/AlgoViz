<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AlgoViz - Unified Algorithm Visualizer</title>
    <link rel="stylesheet" href="styles.css">
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Space+Grotesk:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" rel="stylesheet">
</head>
<body class="font-display">

    <!-- Splash Screen -->
    <div class="splash-screen" id="splash">
        <div class="texture-overlay"></div>
        <div class="splash-content-new">
            <div class="logo-wrapper">
                <div class="logo-glow"></div>
                <!-- Using the asset logo -->
                <img src="assets/logo.svg" alt="AlgoViz Logo" class="splash-logo-img">
            </div>
            <h1 class="splash-headline">AlgoViz</h1>
            <div class="splash-progress-container">
                <div class="splash-progress-bar">
                    <div class="splash-progress-fill"></div>
                </div>
            </div>
            <div class="splash-footer">version 2.0</div>
        </div>
    </div>

    <!-- Main App Container -->
    <div class="app hidden" id="app">
        
        <!-- Unified Header -->
        <header class="unified-header">
            <div class="header-brand">
                <div class="header-logo-box">
                    <span class="material-symbols-outlined">hub</span>
                </div>
                <h1 class="header-title">AlgoViz</h1>
            </div>
            
            <!-- View Navigation -->
            <nav class="view-nav">
                <button class="nav-link active" data-view="sorting">Sorting</button>
                <button class="nav-link" data-view="pathfinding">Pathfinding</button>
                <button class="nav-link" data-view="datastructures">Structures</button>
            </nav>

            <div class="header-actions">
                <button class="btn-icon">
                    <span class="material-symbols-outlined">settings</span>
                </button>
                <button class="btn-icon">
                    <span class="material-symbols-outlined">code</span>
                </button>
            </div>
        </header>

        <main>
            <!-- 1. SORTING VIEW -->
            <section id="sorting-view" class="dashboard-view sorting-layout">
                <!-- Floating Controls (Top) -->
                <div class="floating-controls">
                    <div class="glass-panel justify-between">
                        <div class="flex items-center gap-4">
                            <div class="select-wrapper">
                                <select id="sorting-algorithm">
                                    <option value="merge">Merge Sort</option>
                                    <option value="quick">Quick Sort</option>
                                    <option value="heap">Heap Sort</option>
                                    <option value="bubble">Bubble Sort</option>
                                </select>
                            </div>
                            <div class="w-px h-8 bg-white/10"></div>
                            <div class="flex items-center gap-4">
                                <label class="text-xs text-muted font-bold uppercase">Size</label>
                                <input type="range" id="array-size" min="10" max="100" value="50" class="w-32">
                            </div>
                            <div class="flex items-center gap-4">
                                <label class="text-xs text-muted font-bold uppercase">Speed</label>
                                <input type="range" id="sort-speed" min="1" max="100" value="50" class="w-32">
                            </div>
                        </div>
                        <div class="flex items-center gap-2">
                            <button id="generate-array" class="btn btn-surface">
                                <span class="material-symbols-outlined">restart_alt</span>
                                Reset
                            </button>
                            <button id="start-sort" class="btn btn-primary">
                                <span class="material-symbols-outlined">play_arrow</span>
                                Sort
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Canvas -->
                <div class="sorting-canvas">
                    <div id="bars-container" class="bars-container">
                        <!-- Bars generated by JS -->
                    </div>
                </div>

                <!-- Right Sidebar (Stats) -->
                <aside class="sidebar-right">
                    <div class="sidebar-section">
                        <div class="sidebar-title">
                            <span class="material-symbols-outlined text-sm">monitoring</span>
                            Live Statistics
                        </div>
                        <div class="grid grid-cols-2 gap-4">
                            <div class="stat-card">
                                <div class="stat-value" id="comparisons">0</div>
                                <div class="stat-label">Comparisons</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-value" id="swaps">0</div>
                                <div class="stat-label">Swaps</div>
                            </div>
                            <div class="stat-card col-span-2">
                                <div class="stat-value" id="time-elapsed">0.00s</div>
                                <div class="stat-label">Time Elapsed</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="sidebar-section">
                        <div class="sidebar-title">
                            <span class="material-symbols-outlined text-sm">functions</span>
                            Complexity
                        </div>
                        <div class="space-y-4">
                            <div class="flex justify-between items-center">
                                <span class="text-sm text-muted">Time (Avg)</span>
                                <code class="font-mono text-sm text-green-400">Î˜(n log n)</code>
                            </div>
                            <div class="flex justify-between items-center">
                                <span class="text-sm text-muted">Space</span>
                                <code class="font-mono text-sm text-blue-400">O(n)</code>
                            </div>
                        </div>
                    </div>
                    
                    <div class="sidebar-section flex-1">
                        <div class="sidebar-title">Description</div>
                        <p class="text-sm text-muted leading-relaxed" id="algo-description">
                            Select an algorithm to see how it works.
                        </p>
                    </div>
                </aside>
            </section>

            <!-- 2. PATHFINDING VIEW -->
            <section id="pathfinding-view" class="dashboard-view pathfinding-layout hidden">
                <!-- Left Sidebar -->
                <aside class="sidebar-left">
                    <div class="sidebar-section">
                        <div class="sidebar-title">Configuration</div>
                        <div class="space-y-4">
                            <div class="space-y-2">
                                <label class="text-sm text-muted">Algorithm</label>
                                <div class="select-wrapper w-full">
                                    <select id="pf-algorithm" class="w-full p-2 bg-surface rounded border border-white/10">
                                        <option value="dijkstra">Dijkstra's Algorithm</option>
                                        <option value="astar">A* Search</option>
                                        <option value="bfs">Breadth-First Search</option>
                                        <option value="dfs">Depth-First Search</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="sidebar-section">
                        <div class="sidebar-title">Draw Mode</div>
                        <div class="grid grid-cols-2 gap-2">
                            <button class="btn btn-surface flex-col gap-1 h-20 active" data-draw="wall">
                                <span class="material-symbols-outlined">grid_view</span>
                                <span class="text-xs">Wall</span>
                            </button>
                            <button class="btn btn-surface flex-col gap-1 h-20" data-draw="start">
                                <span class="material-symbols-outlined">trip_origin</span>
                                <span class="text-xs">Start</span>
                            </button>
                            <button class="btn btn-surface flex-col gap-1 h-20" data-draw="end">
                                <span class="material-symbols-outlined">flag</span>
                                <span class="text-xs">Target</span>
                            </button>
                             <button class="btn btn-surface flex-col gap-1 h-20" data-draw="weight">
                                <span class="material-symbols-outlined">fitness_center</span>
                                <span class="text-xs">Weight</span>
                            </button>
                        </div>
                    </div>

                    <div class="sidebar-section mt-auto">
                         <div class="stat-card mb-4">
                                <div class="flex justify-between mb-1">
                                    <span class="text-xs text-muted">Nodes Visited</span>
                                    <span class="font-mono text-white" id="pf-stats-visited">0</span>
                                </div>
                                <div class="flex justify-between">
                                    <span class="text-xs text-muted">Path Length</span>
                                    <span class="font-mono text-white" id="pf-stats-length">0</span>
                                </div>
                        </div>
                        <button id="pf-generate-maze" class="btn btn-surface w-full mb-2">Generate Maze</button>
                        <button id="pf-clear" class="btn btn-surface w-full text-red-400">Clear Grid</button>
                    </div>
                </aside>

                <!-- Canvas -->
                <div class="pathfinding-canvas">
                    <!-- Grid Container -->
                    <div id="grid-container" class="grid-container">
                        <!-- Grid cells generated by JS -->
                    </div>

                    <!-- Bottom Controls -->
                    <div class="glass-panel bottom-controls">
                        <button class="btn-icon" id="pf-speed-slow"><span class="material-symbols-outlined">speed</span></button>
                        <button id="pf-start" class="btn btn-primary rounded-full px-8">
                            <span class="material-symbols-outlined">play_arrow</span>
                            Visualize
                        </button>
                        <button class="btn-icon" id="pf-reset"><span class="material-symbols-outlined">replay</span></button>
                    </div>
                </div>
            </section>

            <!-- 3. DATA STRUCTURES VIEW -->
            <section id="datastructures-view" class="dashboard-view hidden">
                 <aside class="sidebar-left w-[360px]">
                    <div class="sidebar-section">
                        <div class="sidebar-title">Structure Type</div>
                        <div class="flex gap-1 bg-surface p-1 rounded-xl">
                            <button class="flex-1 py-1.5 text-xs rounded-lg bg-primary text-white">BST</button>
                            <button class="flex-1 py-1.5 text-xs rounded-lg hover:bg-white/5 text-muted">Stack</button>
                            <button class="flex-1 py-1.5 text-xs rounded-lg hover:bg-white/5 text-muted">Queue</button>
                        </div>
                    </div>
                    
                    <div class="sidebar-section">
                        <div class="sidebar-title">Operations</div>
                        <div class="space-y-4">
                            <div>
                                <label class="text-xs text-muted mb-1 block">Value</label>
                                <div class="flex gap-2">
                                    <input type="number" id="ds-value" value="42" class="flex-1 bg-main border border-white/10 rounded-lg px-3 py-2 text-white font-mono focus:border-primary outline-none">
                                </div>
                            </div>
                            <div class="grid grid-cols-2 gap-2">
                                <button id="ds-insert" class="btn btn-primary w-full">Insert</button>
                                <button id="ds-remove" class="btn btn-surface w-full">Remove</button>
                            </div>
                            <button id="ds-search" class="btn btn-surface w-full">Search</button>
                        </div>
                    </div>

                    <div class="sidebar-section flex-1 flex flex-col min-h-0">
                         <div class="sidebar-title">Event Log</div>
                         <div class="ds-log custom-scrollbar" id="ds-log">
                             <div class="log-entry">
                                 <span class="log-timestamp">10:42:01</span>
                                 <span>System initialized.</span>
                             </div>
                         </div>
                    </div>
                </aside>
                
                <div class="ds-canvas" id="ds-canvas">
                     <!-- Data Structure Visualization Container -->
                     <div id="ds-container" class="ds-container">
                         <!-- DS Nodes rendered here -->
                         <div class="ds-empty-state">
                             <span class="material-symbols-outlined text-6xl opacity-20">schema</span>
                             <p>Binary Search Tree Visualizer</p>
                         </div>
                     </div>
                </div>
            </section>

        </main>
    </div>

    <!-- Scripts -->
    <script src="algorithms.js"></script>
    <script src="app.js"></script>
</body>
</html>
